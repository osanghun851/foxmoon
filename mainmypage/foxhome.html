<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì—¬ìš°ì§‘</title>
    <link href="https://fonts.googleapis.com/css2?family=Gugi&display=swap" rel="stylesheet">
    <style>
* { margin:0; padding:0; box-sizing:border-box; }
#mainBackground{
position: relative;
height: 100dvh;
width: calc(100dvh * 9 / 16);
background-color: #152F56;
background-image: url(./foxhousebackground.svg);
background-size: cover;
background-position: center;
background-repeat: no-repeat;
margin: 0 auto;
}

#button{
height: 6.5dvh;
width: auto;
position: absolute;
top: calc((80/1920)*100dvh);
left: calc((58/1920)*100dvh);
}

#ë§ˆì´í˜ì´ì§€{
position: absolute;
width: calc((330/1920)*100dvh);
height: calc((95/1920)*100dvh);
left: calc((698/1920)*100dvh);
top: calc((91/1920)*100dvh);
background: #A05A2C;
box-shadow: 0dvh 0.5dvh 0.2dvh rgba(0, 0, 0, 0.25);
border-radius: calc((20/1920)*100dvh);
font-family: 'Gugi';
font-style: normal;
font-weight: 400;
font-size: calc((52/1920)*100dvh);
display: flex;
justify-content: center;
align-items: center;
color: #FFFFFF;
}

#store{
position: absolute;
width: calc((333/1920)*100dvh);
height: auto;
left: calc((690/1920)*100dvh);
top: calc((464/1920)*100dvh);
}
#store:hover{ opacity: 0.9; }

#home{
position: absolute;
width: calc((547/1920)*100dvh);
height: auto;
left: calc((26/1920)*100dvh);
top: calc((818/1920)*100dvh);
}
#home:hover{ opacity: 0.9; }

.Modal{
display: none;
position: absolute;
z-index: 999;
left:0; top:0;
width: 100%;
height: 100%;
background-color: rgba(0,0,0,0.7);
}

#modal-box{
position: absolute;
width: calc(100dvh * 9 / 16);
height: 100dvh;
background-color: #E7D7C1;
margin: 0 auto;
}

#ì—´ë§¤ìƒì {
position: absolute;
width: calc((632/1920)*100dvh);
height: calc((137/1920)*100dvh);
left: calc((224/1920)*100dvh);
top: calc((120/1920)*100dvh);
background: #A05A2C;
box-shadow: 0dvh 0.5dvh 0.2dvh rgba(0,0,0,0.25);
border-radius: calc((20/1920)*100dvh);
font-family: 'Gugi';
font-style: normal;
font-weight: 400;
font-size: 4dvh;
display: flex;
justify-content: center;
align-items: center;
color: #FFFFFF;
}

#ìƒì ë°°ê²½{
position: absolute;
width: calc((977/1920)*100dvh);
height: calc((1310/1920)*100dvh);
left: calc((52/1920)*100dvh);
top: calc((516/1920)*100dvh);
background: #D1916C;
box-shadow: 0px 10px 4px rgba(0,0,0,0.25);
}

#ìƒì ë‚´ë¶€{
position: absolute;
width: calc((912/1920)*100dvh);
height: calc((1079/1920)*100dvh);
left: calc((84/1920)*100dvh);
top: calc((601/1920)*100dvh);
background: #FFFFFF;
border-radius: calc((42/1920)*100dvh);
}

#ìƒì ëª¨ë‹¬ë‹«ê¸°{
position: absolute;
width: 6.5dvh;
height: auto;
left: calc((900/1920)*100dvh);
top: calc((1703/1920)*100dvh);
}

.ìƒì ì¹´í…Œê³ ë¦¬ì„ íƒ{
position: absolute;
width: calc((153/1920)*100dvh);
height: calc((92/1920)*100dvh);
box-shadow: 0.2dvh 0dvh 0dvh rgba(0, 0, 0, 0.25);
font-family: 'Gugi';
font-weight: 400;
font-size: 3dvh;
display: flex;
justify-content: center;
align-items: center;
}

#ìƒì ì¹´í…Œê³ ë¦¬ì„ íƒ1{ left: calc((52/1920)*100dvh); top: calc((424/1920)*100dvh); background: #D1916C; color:#FFF; }
#ìƒì ì¹´í…Œê³ ë¦¬ì„ íƒ2{ left: calc((241/1920)*100dvh); top: calc((424/1920)*100dvh); background: #FFF; color:#D1916C; }
#ìƒì ì¹´í…Œê³ ë¦¬ì„ íƒ3{ left: calc((430/1920)*100dvh); top: calc((424/1920)*100dvh); background: #FFF; color:#D1916C; }
#ìƒì ì¹´í…Œê³ ë¦¬ì„ íƒ4{ left: calc((619/1920)*100dvh); top: calc((424/1920)*100dvh); background: #FFF; color:#D1916C; }
#ìƒì ì¹´í…Œê³ ë¦¬ì„ íƒ5{ left: calc((808/1920)*100dvh); top: calc((424/1920)*100dvh); background: #FFF; color:#D1916C; font-size: 2dvh; }

#ì´ìš©ë°©ë²•ë²„íŠ¼{
width: calc((150/1920)*100dvh);
height: auto;
position: absolute;
left: calc((890/1920)*100dvh);
top: calc((1700/1920)*100dvh);
}

#box{
width: calc((333/1920)*100dvh);
height: calc((69/1920)*100dvh);
position: absolute;
left: calc((663/1920)*100dvh);
top: calc((306/1920)*100dvh);
background: #A05A2C;
box-shadow: 0px 0.35dvh 0.2dvh rgba(0,0,0,0.25);
border-radius: calc((20/1920)*100dvh);
font-family: 'Gugi';
font-size: 2.5dvh;
display: flex; justify-content:center; align-items:center;
color:#FFF;
}

#foxmodal-box{
position: absolute;
width: calc(100dvh * 9 / 16);
height: 100dvh;
background-color: #E7D7C1;
margin: 0 auto;
}

#background0{
position: absolute;
width: calc((1080/1920)*100dvh);
height: auto;
z-index: 101;
}

#line{
position: absolute;
width: calc((1070/1920)*100dvh);
height: 0dvh;
left: 0dvh;
top: calc((714/1920)*100dvh);
border: 0.14dvh solid #D1916C;
}

#ì—¬ìš°ì§‘ëª¨ë‹¬ë‹«ê¸°{
position: absolute;
width: 6.5dvh;
height: auto;
left: calc((20/1920)*100dvh);
top: calc((90/1920)*100dvh);
z-index: 102;
}

#box1{
width: 100%;
height: calc((722/1920)*100dvh);
position: absolute;
bottom: 0;
background-color: #D1916C;
}

#box2{
position: absolute;
width: calc((976/1920)*100dvh);
height: calc((625/1920)*100dvh);
left: calc((52/1920)*100dvh);
top: calc((50/1920)*100dvh);
background-color: #FFFFFF;
border-radius: calc((42/1920)*100dvh);
}

.ê¾¸ë¯¸ê¸°ì¹´í…Œê³ ë¦¬ì„ íƒ{
position: absolute;
width: calc((153/1920)*100dvh);
height: calc((92/1920)*100dvh);
box-shadow: 0.2dvh 0dvh 0dvh rgba(0,0,0,0.25);
font-family: 'Gugi';
font-size: 3dvh;
display: flex; justify-content:center; align-items:center;
}

#ê¾¸ë¯¸ê¸°ì¹´í…Œê³ ë¦¬ì„ íƒ1{ top: calc((1118/1920)*100dvh); background:#D1916C; color:#FFF; }
#ê¾¸ë¯¸ê¸°ì¹´í…Œê³ ë¦¬ì„ íƒ2{ left: calc((189/1920)*100dvh); top: calc((1118/1920)*100dvh); background:#FFF; color:#D1916C; }
#ê¾¸ë¯¸ê¸°ì¹´í…Œê³ ë¦¬ì„ íƒ3{ left: calc((378/1920)*100dvh); top: calc((1118/1920)*100dvh); background:#FFF; color:#D1916C; }
#ê¾¸ë¯¸ê¸°ì¹´í…Œê³ ë¦¬ì„ íƒ4{ left: calc((567/1920)*100dvh); top: calc((1118/1920)*100dvh); background:#FFF; color:#D1916C; }
#ê¾¸ë¯¸ê¸°ì¹´í…Œê³ ë¦¬ì„ íƒ5{ left: calc((756/1920)*100dvh); top: calc((1118/1920)*100dvh); background:#FFF; color:#D1916C; font-size: 2dvh; }

#ì¹œêµ¬0{ position:absolute; left:calc((142/1920)*100dvh); top:calc((504/1920)*100dvh); width:calc((220/1920)*100dvh); height:calc((202/1920)*100dvh); }
#ì¹œêµ¬1{ position:absolute; left:calc((361/1920)*100dvh); top:calc((472/1920)*100dvh); width:calc((220/1920)*100dvh); height:calc((146/1920)*100dvh); }

#ë²½ì§€{
position: absolute;
top: 0dvh;
left: 0dvh;
width: calc((1080/1920)*100dvh);
height: calc((713/1920)*100dvh);
z-index: 0;
}
#ì¹´í«{
position: absolute;
top: calc((903/1920)*100dvh);
left: calc((224/1920)*100dvh);
width: calc((631/1920)*100dvh);
height: calc((114/1920)*100dvh);
}
#fox{
position: absolute;
top: calc((550/1920)*100dvh);
left: calc((369/1920)*100dvh);
width: calc((368/1920)*100dvh);
height: calc((439/1920)*100dvh);
z-index: 101;
}

    </style>
</head>
<body>
    <div id="mainBackground">
        <img src="ì¹œêµ¬0.svg" id="ì¹œêµ¬0" class="button">
        <img src="ì¹œêµ¬1.svg" id="ì¹œêµ¬1" class="button">
        <img src="button.svg" id="button" class="button">
        <div id="ë§ˆì´í˜ì´ì§€" class="button">ë§ˆì´í˜ì´ì§€</div>
        <img src="warehouse.svg" id="store" class="button">
        <img src="foxhouse.svg" id="home" class="button">
        <img src="ì´ìš©ë°©ë²•ë²„íŠ¼.svg" id="ì´ìš©ë°©ë²•ë²„íŠ¼" class="button">
        <!--ìƒì  ëª¨ë‹¬ ì°½-->
        <div id="storeModal" class="Modal">
            <div id="modal-box">
                <div id="ì—´ë§¤ìƒì ">ì—´ë§¤ ìƒì </div>
                <div id="ìƒì ë°°ê²½"></div>
                <div id="ìƒì ë‚´ë¶€"></div>
                <img src="button.svg" id="ìƒì ëª¨ë‹¬ë‹«ê¸°" class="button">
                <div class="ìƒì ì¹´í…Œê³ ë¦¬ì„ íƒ" id="ìƒì ì¹´í…Œê³ ë¦¬ì„ íƒ1">ë²½ì§€</div>
                <div class="ìƒì ì¹´í…Œê³ ë¦¬ì„ íƒ" id="ìƒì ì¹´í…Œê³ ë¦¬ì„ íƒ2">ì¹´í«</div>
                <div class="ìƒì ì¹´í…Œê³ ë¦¬ì„ íƒ" id="ìƒì ì¹´í…Œê³ ë¦¬ì„ íƒ3">ê°€êµ¬1</div>
                <div class="ìƒì ì¹´í…Œê³ ë¦¬ì„ íƒ" id="ìƒì ì¹´í…Œê³ ë¦¬ì„ íƒ4">ê°€êµ¬2</div>
                <div class="ìƒì ì¹´í…Œê³ ë¦¬ì„ íƒ" id="ìƒì ì¹´í…Œê³ ë¦¬ì„ íƒ5">ì•…ì„¸ì‚¬ë¦¬</div>
                <div id="box"></div>
            </div>
        </div>
        <!--ì—¬ìš°ì§‘ ëª¨ë‹¬ ì°½-->
        <div id="foxhouse" class="Modal">
            <div id="foxmodal-box">
                <img src="foxhousebackground1.svg" id="background0">
                <img src="fox.svg" id="fox">
                <div id="line"></div>
                <img src="foxhousebutton.svg" id="ì—¬ìš°ì§‘ëª¨ë‹¬ë‹«ê¸°" class="button">
                <img id="ë²½ì§€" data-itemName="undefined">
                <img src="ì¹´í«T.svg" id="ì¹´í«" data-itemName="undefined">
                <img id="ê°€êµ¬11" data-itemName="undefined">
                <img id="ê°€êµ¬12" data-itemName="undefined">
                <img id="ê°€êµ¬13" data-itemName="undefined">
                <img id="ê°€êµ¬14" data-itemName="undefined">
                <img id="ê°€êµ¬21" data-itemName="undefined">
                <img id="ê°€êµ¬23" data-itemName="undefined">
                <img id="ê°€êµ¬24" data-itemName="undefined">
                <img id="ì•…ì„¸ì‚¬ë¦¬1" data-itemName="undefined">
                <img id="ì•…ì„¸ì‚¬ë¦¬2" data-itemName="undefined">
                <img id="ì•…ì„¸ì‚¬ë¦¬4" data-itemName="undefined">
                <div class="ê¾¸ë¯¸ê¸°ì¹´í…Œê³ ë¦¬ì„ íƒ" id="ê¾¸ë¯¸ê¸°ì¹´í…Œê³ ë¦¬ì„ íƒ1">ë²½ì§€</div>
                <div class="ê¾¸ë¯¸ê¸°ì¹´í…Œê³ ë¦¬ì„ íƒ" id="ê¾¸ë¯¸ê¸°ì¹´í…Œê³ ë¦¬ì„ íƒ2">ì¹´í«</div>
                <div class="ê¾¸ë¯¸ê¸°ì¹´í…Œê³ ë¦¬ì„ íƒ" id="ê¾¸ë¯¸ê¸°ì¹´í…Œê³ ë¦¬ì„ íƒ3">ê°€êµ¬1</div>
                <div class="ê¾¸ë¯¸ê¸°ì¹´í…Œê³ ë¦¬ì„ íƒ" id="ê¾¸ë¯¸ê¸°ì¹´í…Œê³ ë¦¬ì„ íƒ4">ê°€êµ¬2</div>
                <div class="ê¾¸ë¯¸ê¸°ì¹´í…Œê³ ë¦¬ì„ íƒ" id="ê¾¸ë¯¸ê¸°ì¹´í…Œê³ ë¦¬ì„ íƒ5">ì•…ì„¸ì‚¬ë¦¬</div>
                <div id="box1">
                    <div id="box2"></div>
                </div>
            </div>
        </div>
    </div>
</body>
<script>
const BACKEND_URL="https://foxmoonbackend.onrender.com"
        //(í™”ì‚´í‘œ í´ë¦­ì‹œ)index.htmlë¡œ ì´ë™
document.getElementById("button").addEventListener("click", function() {
  window.location.href = "../index.html";
});
//ìƒì ëª¨ë‹¬ì°½ ë„ìš°ê³  ë‹«ê¸°
const img = document.getElementById('store');
const modal = document.getElementById('storeModal');
const closeBtn = document.querySelector('#ìƒì ëª¨ë‹¬ë‹«ê¸°');
img.onclick = function() {
  modal.style.display = 'block';
}
closeBtn.onclick = function() {
  modal.style.display = "none";
}
/*modal.onclick = function(e) {
  if (e.target === modal) {
    modal.style.display = "none";
  }
}ì™¸ë¶€í´ë¦­ì‹œëª¨ë‹¬ë‹«í˜*/

//ì—¬ìš°ì§‘ ëª¨ë‹¬ì°½ ë„ìš°ê³  ë‹«ê¸°
const home = document.getElementById('home');
const foxhousemodal = document.getElementById('foxhouse');
const closeBtn1 = document.querySelector('#ì—¬ìš°ì§‘ëª¨ë‹¬ë‹«ê¸°');
home.onclick = function() {
  foxhousemodal.style.display = 'block';
}
closeBtn1.onclick = a
async function a() {
  foxhousemodal.style.display = "none";
  try {
    const foxhomeData = {
        ë²½ì§€ : document.getElementById("ë²½ì§€").dataset.itemName,
        ì¹´í« : document.getElementById("ì¹´í«").dataset.itemName,
        ê°€êµ¬1 : document.getElementById("ê°€êµ¬11").dataset.itemName+","+document.getElementById("ê°€êµ¬12").dataset.itemName+","+document.getElementById("ê°€êµ¬13").dataset.itemName+","+document.getElementById("ê°€êµ¬14").dataset.itemName,
        ê°€êµ¬2 : document.getElementById("ê°€êµ¬21").dataset.itemName+","+document.getElementById("ê°€êµ¬23").dataset.itemName+","+document.getElementById("ê°€êµ¬24").dataset.itemName,
        ì•…ì„¸ì‚¬ë¦¬ : document.getElementById("ì•…ì„¸ì‚¬ë¦¬1").dataset.itemName+","+document.getElementById("ì•…ì„¸ì‚¬ë¦¬2").dataset.itemName+","+document.getElementById("ì•…ì„¸ì‚¬ë¦¬4").dataset.itemName
    };
    console.log(foxhomeData);
    const token = localStorage.getItem("token"); // ë¡œê·¸ì¸ ì‹œ ì €ì¥ëœ JWT

const res = await fetch(BACKEND_URL + "/foxhomeData/save", {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    "Authorization": `Bearer ${token}` // âœ… í† í° ì „ë‹¬
  },
  body: JSON.stringify(foxhomeData)
});

    const data = await res.json(foxhomeData);
    if (!res.ok) throw new Error(data.message || "ì €ì¥ ì‹¤íŒ¨");

    if (data.error) {
        alert(data.error);
    } else {
        console.log(data.message);
    }
    } catch (err) {
    console.error(err);
    }
}
document.getElementById("ì´ìš©ë°©ë²•ë²„íŠ¼").addEventListener("click", function() {
  window.location.href="./ì—¬ìš°ì§‘ì´ìš©ë°©ë²•.html";
});
document.getElementById("ë§ˆì´í˜ì´ì§€").addEventListener("click", () => {
    window.location.href="./mypage.html";
});
document.getElementById("ì¹œêµ¬0").addEventListener("click",() => {
    window.location.href="./friend.html";
});
document.getElementById("ì¹œêµ¬1").addEventListener("click",() => {
    window.location.href="./friend.html";
});

//buttoníš¨ê³¼ ì„¤ì •
const setButton=function(btn,brightness=1.2,scale=0.95){
    
    //ì´ˆê¸°ì„¤ì •
    Object.assign(btn.style, {
      cursor: "pointer",
      transition: "all 0.2s ease"
    });

      //hoveríš¨ê³¼
    btn.addEventListener("mouseenter",function(){
        btn.style.filter=`brightness(${brightness})`;
    });
    btn.addEventListener("mouseleave",function(){
        btn.style.filter="brightness(1)";
    });

    //activeíš¨ê³¼
    btn.addEventListener("mousedown",function(){
        btn.style.transform= `scale(${scale})`;
    });
    btn.addEventListener("mouseup",function(){
        btn.style.transform= "scale(1)";
    });
}
document.querySelectorAll(".button").forEach(btn => {
    setButton(btn);
});
document.querySelectorAll(".ìƒì ì¹´í…Œê³ ë¦¬ì„ íƒ").forEach(btn => {
    setButton(btn,0.8,0.9);
});
document.querySelectorAll(".ê¾¸ë¯¸ê¸°ì¹´í…Œê³ ë¦¬ì„ íƒ").forEach(btn => {
    setButton(btn,0.8,0.9);
});
/* imgsrc:ì´ë¯¸ì§€ê²½ë¡œ #type:str
imgleft:ì´ë¯¸ì§€xì¶•ìœ„ì¹˜ #type:str
imgtop:ì´ë¯¸ì§€ yì¶• ìœ„ì¹˜ #type:str

*/
const itemLoad=function(imgsrc,imgwidth,imgheight,imgleft,imgtop,imgparent,imgborder,price=10,classList="buyItem"){
// 1. ì´ë¯¸ì§€ ìš”ì†Œ ìƒì„±
const img = document.createElement("img");
// 2. ì´ë¯¸ì§€ ê²½ë¡œ(src) ì„¤ì •
img.src = imgsrc; // ë˜ëŠ” "/images/sample.jpg"
// 3. í¬ê¸° ì„¤ì •
img.style.width = imgwidth; // ë˜ëŠ” img.style.width = "300px";
img.style.height = imgheight; // ë˜ëŠ” img.style.height = "200px";
// 4. ìœ„ì¹˜ ì„¤ì • (CSS ìŠ¤íƒ€ì¼ë¡œ ì¡°ì ˆ)
img.style.position = "absolute";
img.style.left = imgleft;
img.style.top = imgtop;
// 5. í˜ì´ì§€ì— ì¶”ê°€
imgparent.appendChild(img);
//ë²„íŠ¼í™”
setButton(img);
//ëª¨ì„œë¦¬ë‘¥ê¸€ê²Œ
img.style.borderRadius=imgborder;
//í´ë˜ìŠ¤ì¶”ê°€
img.classList.add(classList);
//datasetì¶”ê°€
img.dataset.name=imgsrc.slice(0,imgsrc.lastIndexOf("."));
img.dataset.type=imgsrc.slice(0,imgsrc.lastIndexOf(".")-1);
img.dataset.price=price;
//ì•„ì´í…œí´ë¦­ì‹œ íŒìŠ¤í™ˆ ë³€ê²½
}
//ì•„ì´í…œ ë¡œë”©
const store=document.getElementById("ìƒì ë‚´ë¶€");
const box2=document.getElementById("box2");
const clothList = {
    ì—¬ìš°ì˜·0:['ex.png','15.8dvh','12.8dvh','4.8dvh','4dvh',10],
    ì—¬ìš°ì˜·1:['ex.png','15.8dvh','12.8dvh','27dvh','4dvh',10]
};
const ë²½ì§€list={
    ë²½ì§€0:['ë²½ì§€0.svg','15.8dvh','12.8dvh','4.8dvh','4dvh',20],
    ë²½ì§€1:['ë²½ì§€1.svg','15.8dvh','12.8dvh','27dvh','4dvh',20],
    ë²½ì§€2:['ë²½ì§€2.svg','15.8dvh','12.8dvh','4.8dvh','21.7dvh',20],
    ë²½ì§€3:['ë²½ì§€3.svg','15.8dvh','12.8dvh','27dvh','21.7dvh',30],
    ë²½ì§€4:['ë²½ì§€4.svg','15.8dvh','12.8dvh','4.8dvh','39.4dvh',30],
    ë²½ì§€5:['ë²½ì§€5.svg','15.8dvh','12.8dvh','27dvh','39.4dvh',30]
};
const ì¹´í«list={
    ì¹´í«0:['ì¹´í«0.svg','15.8dvh','12.8dvh','4.8dvh','4dvh',30],
    ì¹´í«1:['ì¹´í«1.svg','15.8dvh','12.8dvh','27dvh','4dvh',30],
    ì¹´í«2:['ì¹´í«2.svg','15.8dvh','12.8dvh','4.8dvh','21.7dvh',30],
    ì¹´í«3:['ì¹´í«3.svg','15.8dvh','12.8dvh','27dvh','21.7dvh',40],
    ì¹´í«4:['ì¹´í«4.svg','15.8dvh','12.8dvh','4.8dvh','39.4dvh',40],
    ì¹´í«5:['ì¹´í«5.svg','15.8dvh','12.8dvh','27dvh','39.4dvh',40]
};
const ê°€êµ¬1list={
    ê°€êµ¬10:['ê°€êµ¬10.svg','15.8dvh','12.8dvh','4.8dvh','4dvh',50],
    ê°€êµ¬11:['ê°€êµ¬11.svg','15.8dvh','12.8dvh','27dvh','4dvh',50],
    ê°€êµ¬12:['ê°€êµ¬12.svg','15.8dvh','12.8dvh','4.8dvh','21.7dvh',50],
    ê°€êµ¬13:['ê°€êµ¬13.svg','15.8dvh','12.8dvh','27dvh','21.7dvh',50],
    ê°€êµ¬14:['ê°€êµ¬14.svg','15.8dvh','12.8dvh','4.8dvh','39.4dvh',80],//
    ê°€êµ¬15:['ê°€êµ¬15.svg','15.8dvh','12.8dvh','27dvh','39.4dvh',80]
};
const ê°€êµ¬2list={
    ê°€êµ¬20:['ê°€êµ¬20.svg','15.8dvh','12.8dvh','4.8dvh','4dvh',30],
    ê°€êµ¬21:['ê°€êµ¬21.svg','15.8dvh','12.8dvh','27dvh','4dvh',30],
    ê°€êµ¬22:['ê°€êµ¬22.svg','15.8dvh','12.8dvh','4.8dvh','21.7dvh',30],
    ê°€êµ¬23:['ê°€êµ¬23.svg','15.8dvh','12.8dvh','27dvh','21.7dvh',30],
    ê°€êµ¬24:['ê°€êµ¬24.svg','15.8dvh','12.8dvh','4.8dvh','39.4dvh',60],//
    ê°€êµ¬25:['ê°€êµ¬25.svg','15.8dvh','12.8dvh','27dvh','39.4dvh',60]
};
const ì•…ì„¸ì‚¬ë¦¬list={
    ì•…ì„¸ì‚¬ë¦¬0:['ì•…ì„¸ì‚¬ë¦¬0.svg','15.8dvh','12.8dvh','4.8dvh','4dvh',30],
    ì•…ì„¸ì‚¬ë¦¬1:['ì•…ì„¸ì‚¬ë¦¬1.svg','15.8dvh','12.8dvh','27dvh','4dvh',30],
    ì•…ì„¸ì‚¬ë¦¬2:['ì•…ì„¸ì‚¬ë¦¬2.svg','15.8dvh','12.8dvh','4.8dvh','21.7dvh',40],
    ì•…ì„¸ì‚¬ë¦¬3:['ì•…ì„¸ì‚¬ë¦¬3.svg','15.8dvh','12.8dvh','27dvh','21.7dvh',50],
    ì•…ì„¸ì‚¬ë¦¬4:['ì•…ì„¸ì‚¬ë¦¬4.svg','15.8dvh','12.8dvh','4.8dvh','39.4dvh',70],
    ì•…ì„¸ì‚¬ë¦¬5:['ì•…ì„¸ì‚¬ë¦¬5.svg','15.8dvh','12.8dvh','27dvh','39.4dvh',70]
};

const storelist = [ë²½ì§€list,ì¹´í«list,ê°€êµ¬1list,ê°€êµ¬2list,ì•…ì„¸ì‚¬ë¦¬list];
let userhave = {
    ì—¬ìš°ì˜·0:['ex.png'],
    ì—¬ìš°ì˜·1:['ex.png']
};
//ìƒì ì•„ì´í…œìœ„ì¹˜
//ì—¬ìš°ì§‘ì•„ì´í…œìœ„ì¹˜
const fposition=[
["4dvh","4dvh"],["20dvh","4dvh"],["36.1dvh","4dvh"],
["4dvh","18.3dvh"],["20dvh","18.3dvh"],["36.1dvh","18.3dvh"]
];
const foxHomeItemLoding = function(list){
    box2.innerHTML="";
    let i=0;
    //console.log(list);
    //ì—¬ìš°ì§‘ì•„ì´í…œë¡œë”©
    for(let k of list){
        itemLoad(k,'10.7vh','10.3vh',fposition[i][0],fposition[i][1],box2,'1.6vh',10,"myItem");
        i+=1;
    }
    document.querySelectorAll(".myItem").forEach(item => {
        item.addEventListener("click", async ()=>{
            const keyName = item.dataset.name
            switch(item.dataset.type){
                case "ë²½ì§€":
                    if (document.getElementById("ë²½ì§€").dataset.itemName== keyName){
                        document.getElementById("ë²½ì§€").style.opacity = 0;
                        document.getElementById("ë²½ì§€").dataset.itemName = "undefined";
                    }
                    else{
                    document.getElementById("ë²½ì§€").style.opacity = 1;
                    document.getElementById("ë²½ì§€").src = `./${keyName}T.svg`;
                    document.getElementById("ë²½ì§€").dataset.itemName = keyName;
                    console.log(document.getElementById("ë²½ì§€").dataset.itemName);}
                    break;
                case "ì¹´í«":
                    if (document.getElementById("ì¹´í«").dataset.itemName== keyName){
                        document.getElementById("ì¹´í«").src = `./ì¹´í«T.svg`;
                        document.getElementById("ì¹´í«").dataset.itemName = "ì¹´í«";
                    }
                    else{
                    document.getElementById("ì¹´í«").src = `./${keyName}T.svg`;
                    document.getElementById("ì¹´í«").dataset.itemName = keyName;
                    console.log(document.getElementById("ì¹´í«").dataset.itemName);}
                    break;
                    case "ê°€êµ¬1":
    if (keyName == "ê°€êµ¬10" || keyName =="ê°€êµ¬11"){
        if(document.getElementById("ê°€êµ¬11").dataset.itemName == keyName){
            document.getElementById("ê°€êµ¬11").style.opacity ="0";
            document.getElementById("ê°€êµ¬11").dataset.itemName = "undefined";
        }else{
            document.getElementById("ê°€êµ¬11").src = `./${keyName}T.svg`;
            document.getElementById("ê°€êµ¬11").dataset.itemName = keyName;
            document.getElementById("ê°€êµ¬11").style.cssText = `
            position: absolute;
            width: ${ê°€êµ¬1Data[keyName][0]};
            height: ${ê°€êµ¬1Data[keyName][1]};
            left: ${ê°€êµ¬1Data[keyName][2]};
            top: ${ê°€êµ¬1Data[keyName][3]};
            z-index:100;
            `;
        }
    }
    else if (keyName == "ê°€êµ¬12" || keyName =="ê°€êµ¬13"){
        if(document.getElementById("ê°€êµ¬12").dataset.itemName == keyName){
            document.getElementById("ê°€êµ¬12").style.opacity ="0";
            document.getElementById("ê°€êµ¬12").dataset.itemName = "undefined";
        }else{
            document.getElementById("ê°€êµ¬12").src = `./${keyName}T.svg`;
            document.getElementById("ê°€êµ¬12").dataset.itemName = keyName;
            document.getElementById("ê°€êµ¬12").style.cssText = `
            position: absolute;
            width: ${ê°€êµ¬1Data[keyName][0]};
            height: ${ê°€êµ¬1Data[keyName][1]};
            left: ${ê°€êµ¬1Data[keyName][2]};
            top: ${ê°€êµ¬1Data[keyName][3]};
            z-index:100;
            `;
        }
    }
    else if (keyName == "ê°€êµ¬14") {
  const el = document.getElementById("ê°€êµ¬14");

  // âœ… ì•ˆì „í•œ ì²´í¬: undefinedì¼ ë•Œ ì˜¤ë¥˜ ë°©ì§€
  if (el.dataset.itemName && el.dataset.itemName.includes("ê°€êµ¬14")) {
      el.style.opacity = "0";
      el.dataset.itemName = "undefined";

      // ğŸ§© ê°€êµ¬14 ì œê±° ì‹œ, í•˜ìœ„ ê°€êµ¬ ìë™ ì œê±°
      const removeList = ["ê°€êµ¬21", "ê°€êµ¬23", "ê°€êµ¬24"];
      removeList.forEach(id => {
          const target = document.getElementById(id);
          target.style.opacity = "0";
          target.dataset.itemName = "undefined";
      });

      console.log("ğŸ§¹ ê°€êµ¬14 ì œê±° ë° í•˜ìœ„ ê°€êµ¬ ì´ˆê¸°í™” ì™„ë£Œ");
  } else {
      // âœ… ë°°ì¹˜
      el.src = `./${keyName}T.svg`;
      el.dataset.itemName = keyName;
      el.style.cssText = `
          position: absolute;
          width: ${ê°€êµ¬1Data[keyName][0]};
          height: ${ê°€êµ¬1Data[keyName][1]};
          left: ${ê°€êµ¬1Data[keyName][2]};
          top: ${ê°€êµ¬1Data[keyName][3]};
          z-index: 100;
      `;
      console.log("âœ… ê°€êµ¬14 ë°°ì¹˜ ì™„ë£Œ");
  }
}
    else if (keyName == "ê°€êµ¬15"){
        if(document.getElementById("ê°€êµ¬14").dataset.itemName == keyName){
            document.getElementById("ê°€êµ¬14").style.opacity ="0";
            document.getElementById("ê°€êµ¬14").dataset.itemName = "undefined";
        }else{
            document.getElementById("ê°€êµ¬14").src = `./${keyName}T.svg`;
            document.getElementById("ê°€êµ¬14").dataset.itemName = keyName;
            document.getElementById("ê°€êµ¬14").style.cssText = `
            position: absolute;
            width: ${ê°€êµ¬1Data[keyName][0]};
            height: ${ê°€êµ¬1Data[keyName][1]};
            left: ${ê°€êµ¬1Data[keyName][2]};
            top: ${ê°€êµ¬1Data[keyName][3]};
            z-index:100;
            `;
        }
    }
    break;


case "ê°€êµ¬2":
    // ğŸ§© ê°€êµ¬14ê°€ ë°°ì¹˜ë˜ì–´ ìˆì–´ì•¼ë§Œ í—ˆìš©
    const isFurniture14Placed = document.getElementById("ê°€êµ¬14").dataset.itemName !== "undefined";
    const restricted = ["ê°€êµ¬20", "ê°€êµ¬21", "ê°€êµ¬22", "ê°€êµ¬23", "ê°€êµ¬25"];
    if (restricted.includes(keyName) && !isFurniture14Placed) {
        alert("ê°€êµ¬14ê°€ ë°°ì¹˜ë˜ì–´ì•¼ ì´ ê°€êµ¬ë¥¼ ì„¤ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!");
        return;
    }

    if (keyName == "ê°€êµ¬20" || keyName =="ê°€êµ¬21"||keyName=="ê°€êµ¬22"){
        if(document.getElementById("ê°€êµ¬21").dataset.itemName == keyName){
            document.getElementById("ê°€êµ¬21").style.opacity ="0";
            document.getElementById("ê°€êµ¬21").dataset.itemName = "undefined";
        } else {
            document.getElementById("ê°€êµ¬21").src = `./${keyName}T.svg`;
            document.getElementById("ê°€êµ¬21").dataset.itemName = keyName;
            document.getElementById("ê°€êµ¬21").style.cssText = `
            position: absolute;
            width: ${ê°€êµ¬2Data[keyName][0]};
            height: ${ê°€êµ¬2Data[keyName][1]};
            left: ${ê°€êµ¬2Data[keyName][2]};
            top: ${ê°€êµ¬2Data[keyName][3]};
            z-index:100;
            `;
        }
    }
    else if (keyName == "ê°€êµ¬24"){
        if(document.getElementById("ê°€êµ¬23").dataset.itemName == keyName){
            document.getElementById("ê°€êµ¬23").style.opacity ="0";
            document.getElementById("ê°€êµ¬23").dataset.itemName = "undefined";
        } else {
            document.getElementById("ê°€êµ¬23").src = `./${keyName}T.svg`;
            document.getElementById("ê°€êµ¬23").dataset.itemName = keyName;
            document.getElementById("ê°€êµ¬23").style.cssText = `
            position: absolute;
            width: ${ê°€êµ¬2Data[keyName][0]};
            height: ${ê°€êµ¬2Data[keyName][1]};
            left: ${ê°€êµ¬2Data[keyName][2]};
            top: ${ê°€êµ¬2Data[keyName][3]};
            z-index:100;
            `;
        }
    }
    else if (keyName == "ê°€êµ¬25"||keyName=="ê°€êµ¬23"){
        if(document.getElementById("ê°€êµ¬24").dataset.itemName == keyName){
            document.getElementById("ê°€êµ¬24").style.opacity ="0";
            document.getElementById("ê°€êµ¬24").dataset.itemName = "undefined";
        } else {
            document.getElementById("ê°€êµ¬24").src = `./${keyName}T.svg`;
            document.getElementById("ê°€êµ¬24").dataset.itemName = keyName;
            document.getElementById("ê°€êµ¬24").style.cssText = `
            position: absolute;
            width: ${ê°€êµ¬2Data[keyName][0]};
            height: ${ê°€êµ¬2Data[keyName][1]};
            left: ${ê°€êµ¬2Data[keyName][2]};
            top: ${ê°€êµ¬2Data[keyName][3]};
            z-index:100;
            `;
        }
    }
    break;

                case "ì•…ì„¸ì‚¬ë¦¬":
                    if (keyName == "ì•…ì„¸ì‚¬ë¦¬0" || keyName =="ì•…ì„¸ì‚¬ë¦¬2"||keyName =="ì•…ì„¸ì‚¬ë¦¬3"){
                        if(document.getElementById("ì•…ì„¸ì‚¬ë¦¬1").dataset.itemName == keyName){
                            document.getElementById("ì•…ì„¸ì‚¬ë¦¬1").style.opacity ="0";
                            document.getElementById("ì•…ì„¸ì‚¬ë¦¬1").dataset.itemName = "undefined";
                        }else{
                        document.getElementById("ì•…ì„¸ì‚¬ë¦¬1").src = `./${keyName}T.svg`;
                        document.getElementById("ì•…ì„¸ì‚¬ë¦¬1").dataset.itemName = keyName;
                        document.getElementById("ì•…ì„¸ì‚¬ë¦¬1").style.cssText = `
                        position: absolute;
                        width: ${ì•…ì„¸ì‚¬ë¦¬Data[keyName][0]};
                        height: ${ì•…ì„¸ì‚¬ë¦¬Data[keyName][1]};
                        left: ${ì•…ì„¸ì‚¬ë¦¬Data[keyName][2]};
                        top: ${ì•…ì„¸ì‚¬ë¦¬Data[keyName][3]};
                        transform: rotate(${ì•…ì„¸ì‚¬ë¦¬Data[keyName][4]});
                        z-index:102;
                        `;}
                    }
                    else if (keyName == "ì•…ì„¸ì‚¬ë¦¬1" || keyName =="ì•…ì„¸ì‚¬ë¦¬5"){
                        if(document.getElementById("ì•…ì„¸ì‚¬ë¦¬2").dataset.itemName == keyName){
                            document.getElementById("ì•…ì„¸ì‚¬ë¦¬2").style.opacity ="0";
                            document.getElementById("ì•…ì„¸ì‚¬ë¦¬2").dataset.itemName = "undefined";
                        }else{
                        document.getElementById("ì•…ì„¸ì‚¬ë¦¬2").src = `./${keyName}T.svg`;
                        document.getElementById("ì•…ì„¸ì‚¬ë¦¬2").dataset.itemName = keyName;
                        document.getElementById("ì•…ì„¸ì‚¬ë¦¬2").style.cssText = `
                        position: absolute;
                        width: ${ì•…ì„¸ì‚¬ë¦¬Data[keyName][0]};
                        height: ${ì•…ì„¸ì‚¬ë¦¬Data[keyName][1]};
                        left: ${ì•…ì„¸ì‚¬ë¦¬Data[keyName][2]};
                        top: ${ì•…ì„¸ì‚¬ë¦¬Data[keyName][3]};
                        z-index:102;
                        `;}
                    }
                    else if (keyName == "ì•…ì„¸ì‚¬ë¦¬4"){
                        if(document.getElementById("ì•…ì„¸ì‚¬ë¦¬4").dataset.itemName == keyName){
                            document.getElementById("ì•…ì„¸ì‚¬ë¦¬4").style.opacity ="0";
                            document.getElementById("ì•…ì„¸ì‚¬ë¦¬4").dataset.itemName = "undefined";
                        }else{
                        document.getElementById("ì•…ì„¸ì‚¬ë¦¬4").src = `./${keyName}T.svg`;
                        document.getElementById("ì•…ì„¸ì‚¬ë¦¬4").dataset.itemName = keyName;
                        document.getElementById("ì•…ì„¸ì‚¬ë¦¬4").style.cssText = `
                        position: absolute;
                        width: ${ì•…ì„¸ì‚¬ë¦¬Data[keyName][0]};
                        height: ${ì•…ì„¸ì‚¬ë¦¬Data[keyName][1]};
                        left: ${ì•…ì„¸ì‚¬ë¦¬Data[keyName][2]};
                        top: ${ì•…ì„¸ì‚¬ë¦¬Data[keyName][3]};
                        z-index:102;
                        `;}
                    }
                    break;
            }
        });
    });
}
//ìƒì ì•„ì´í…œë¡œë”©
const storeItemLoding =function(list){
    store.innerHTML="";
    Object.keys(list).forEach(item=>{
        itemLoad(list[item][0],list[item][1],list[item][2],list[item][3],list[item][4],store,'1.6vh',list[item][5],"buyItem");
    });
}
storeItemLoding(ë²½ì§€list);
setupPurchaseHandler();
const ìƒì ì¹´í…Œê³ ë¦¬ì„ íƒ = document.querySelectorAll(".ìƒì ì¹´í…Œê³ ë¦¬ì„ íƒ");

for(let k=0;k<ìƒì ì¹´í…Œê³ ë¦¬ì„ íƒ.length;k+=1){
    ìƒì ì¹´í…Œê³ ë¦¬ì„ íƒ[k].addEventListener("click",()=>{
        ìƒì ì¹´í…Œê³ ë¦¬ì„ íƒ.forEach(btn => {
            btn.style.backgroundColor = "#FFFFFF";
            btn.style.color = "#D1916C";
        });
        ìƒì ì¹´í…Œê³ ë¦¬ì„ íƒ[k].style.backgroundColor = "#D1916C";
        ìƒì ì¹´í…Œê³ ë¦¬ì„ íƒ[k].style.color = "#FFFFFF";
        if(storelist[k]) {             // listê°€ ì¡´ì¬í•˜ëŠ”ì§€ ì²´í¬
        storeItemLoding(storelist[k]);
        setupPurchaseHandler();
    } else {
        console.warn("í•´ë‹¹ ì¸ë±ìŠ¤ì— storelistê°€ ì—†ìŠµë‹ˆë‹¤:", k);
    }
    });
}

function setupPurchaseHandler(selector = ".buyItem", apiUrl = BACKEND_URL+"/api/purchase") {
    const buyItems = document.querySelectorAll(selector);

    buyItems.forEach(item => {
        item.addEventListener("click", async () => {  // async ì¶”ê°€
            const itemName = item.dataset.name;
            const itemType = item.dataset.type;
            const price = item.dataset.price;

            if (confirm(`${itemName}ë¥¼ êµ¬ë§¤í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
                try {
                    const token = localStorage.getItem("token"); // ë¡œê·¸ì¸ ì‹œ ì €ì¥ëœ JWT ë¶ˆëŸ¬ì˜¤ê¸°

const res = await fetch(apiUrl, {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    "Authorization": `Bearer ${token}` // âœ… í† í° ì „ë‹¬
  },
  body: JSON.stringify({ itemName, itemType, price })
});


                    const data = await res.json();

                    if (data.error) {
                        alert(data.error);
                    } else {
                        alert(data.message);
                    }

                    // fetch ì™„ë£Œ í›„ í˜¸ì¶œ
                    loadUserData();
                } catch (err) {
                    console.error(err);
                }
            }
        });
    });
}
const ê°€êµ¬1Data = {
    ê°€êµ¬10:['11.4dvh','11.4dvh','6.4dvh','10.9dvh'],
    ê°€êµ¬11:['9.6dvh','9.6dvh','8.2dvh','12.5dvh'],
    ê°€êµ¬12:['8.3dvh','6.4dvh','32.3dvh','17.8dvh'],
    ê°€êµ¬13:['5.1dvh','6.5dvh','32.3dvh','17.8dvh'],
    ê°€êµ¬14:['17.2dvh','15.9dvh','37.6dvh','26.2dvh'],
    ê°€êµ¬15:['5.5dvh','14.3dvh','25.6dvh','10.1dvh']
};

const ê°€êµ¬2Data = {
    ê°€êµ¬20:['4dvh','6.8dvh','40.5dvh','20.1dvh'],
    ê°€êµ¬21:['4.6dvh','6.4dvh','41dvh','20.5dvh'],
    ê°€êµ¬22:['4.4dvh','6.3dvh','41dvh','20.5dvh'],
    ê°€êµ¬23:['4.1dvh','5.5dvh','47dvh','21dvh'],
    ê°€êµ¬24:['21.1dvh','12.2dvh','0dvh','30.4dvh'],
    ê°€êµ¬25:['3.7dvh','9.5dvh','46dvh','17.18dvh']
};

const ì•…ì„¸ì‚¬ë¦¬Data = {
    ì•…ì„¸ì‚¬ë¦¬0:['4.3dvh','3.2dvh','21dvh','33.6dvh','-62.32deg'],
    ì•…ì„¸ì‚¬ë¦¬1:['2.3dvh','2.3dvh','25dvh','29dvh','0deg'],
    ì•…ì„¸ì‚¬ë¦¬2:['3.4dvh','1.8dvh','21.6dvh','35.3dvh','0deg'],
    ì•…ì„¸ì‚¬ë¦¬3:['10.1dvh','8.2dvh','20.1dvh','33.3dvh','-4.84deg'],
    ì•…ì„¸ì‚¬ë¦¬4:['9.8dvh','9dvh','19dvh','33.3dvh','0deg'],
    ì•…ì„¸ì‚¬ë¦¬5:['5.2dvh','2.2dvh','21.5dvh','28.8dvh','0deg']
};


async function loadUserData() {
    try {
        const token = localStorage.getItem("token"); // ë¡œê·¸ì¸ ì‹œ ì €ì¥ëœ JWT

const res = await fetch(BACKEND_URL + "/api/user/me", {
  method: "GET",
  headers: {
    "Authorization": `Bearer ${token}` // âœ… JWT í† í° ì „ë‹¬
  }
});

        const data = await res.json();

        if(data.error) {
            alert(data.error);
            return;
        }

        // ì½”ì¸ í‘œì‹œ
        document.getElementById("box").textContent = "ì—´ë§¤ "+data.user.coin+"ê°œ";
      //console.log(data.userItems);

        // foxhomeì•„ì´í…œë¡œë“œ
        console.log(data.userItems);
        const userHave = data.userItems
            .filter(item => item.itemType === 'ë²½ì§€')
            .map(item => item.itemName + ".svg");
        console.log(userHave);
        foxHomeItemLoding(userHave);
        console.log(data.user.foxhomeData);
        //foxhomeDataë¡œë“œ
        if (data.user.foxhomeData["ë²½ì§€"] !== "undefined"){
        document.getElementById("ë²½ì§€").src = `./${data.user.foxhomeData["ë²½ì§€"]}T.svg`;
        document.getElementById("ë²½ì§€").dataset.itemName = data.user.foxhomeData["ë²½ì§€"];
        }
        //console.log(document.getElementById("ë²½ì§€").dataset.itemName);
        document.getElementById("ì¹´í«").src = `./${data.user.foxhomeData["ì¹´í«"]}T.svg`;
        document.getElementById("ì¹´í«").dataset.itemName = data.user.foxhomeData["ì¹´í«"];
        //console.log(document.getElementById("ì¹´í«").dataset.itemName);
        if(data.user.foxhomeData["ê°€êµ¬1"].split(",")[0] !== 'undefined'){
        document.getElementById("ê°€êµ¬11").src = `./${data.user.foxhomeData["ê°€êµ¬1"].split(",")[0]}T.svg`;
        document.getElementById("ê°€êµ¬11").dataset.itemName = data.user.foxhomeData["ê°€êµ¬1"].split(",")[0];
        document.getElementById("ê°€êµ¬11").style.cssText = `
        position: absolute;
        width: ${ê°€êµ¬1Data[data.user.foxhomeData["ê°€êµ¬1"].split(",")[0]][0]};
        height: ${ê°€êµ¬1Data[data.user.foxhomeData["ê°€êµ¬1"].split(",")[0]][1]};
        left: ${ê°€êµ¬1Data[data.user.foxhomeData["ê°€êµ¬1"].split(",")[0]][2]};
        top: ${ê°€êµ¬1Data[data.user.foxhomeData["ê°€êµ¬1"].split(",")[0]][3]};
        z-index:100;
        `;};
        if (data.user.foxhomeData["ê°€êµ¬1"].split(",")[1] !== 'undefined'){
        document.getElementById("ê°€êµ¬12").src = `./${data.user.foxhomeData["ê°€êµ¬1"].split(",")[1]}T.svg`;
        document.getElementById("ê°€êµ¬12").dataset.itemName = data.user.foxhomeData["ê°€êµ¬1"].split(",")[1];
        document.getElementById("ê°€êµ¬12").style.cssText = `
        position: absolute;
        width: ${ê°€êµ¬1Data[data.user.foxhomeData["ê°€êµ¬1"].split(",")[1]][0]};
        height: ${ê°€êµ¬1Data[data.user.foxhomeData["ê°€êµ¬1"].split(",")[1]][1]};
        left: ${ê°€êµ¬1Data[data.user.foxhomeData["ê°€êµ¬1"].split(",")[1]][2]};
        top: ${ê°€êµ¬1Data[data.user.foxhomeData["ê°€êµ¬1"].split(",")[1]][3]};
        z-index:100;
        `;};
        if (data.user.foxhomeData["ê°€êµ¬1"].split(",")[2] !== 'undefined'){
        document.getElementById("ê°€êµ¬13").src = `./${data.user.foxhomeData["ê°€êµ¬1"].split(",")[2]}T.svg`;
        document.getElementById("ê°€êµ¬13").dataset.itemName = data.user.foxhomeData["ê°€êµ¬1"].split(",")[2];
        document.getElementById("ê°€êµ¬13").style.cssText = `
        position: absolute;
        width: ${ê°€êµ¬1Data["ê°€êµ¬14"][0]};
        height: ${ê°€êµ¬1Data["ê°€êµ¬14"][1]};
        left: ${ê°€êµ¬1Data["ê°€êµ¬14"][2]};
        top: ${ê°€êµ¬1Data["ê°€êµ¬14"][3]};
        z-index:99;
        `;};
        if (data.user.foxhomeData["ê°€êµ¬1"].split(",")[3] == 'ê°€êµ¬15'){
        document.getElementById("ê°€êµ¬14").src = `./${"ê°€êµ¬15"}T.svg`;
        document.getElementById("ê°€êµ¬14").dataset.itemName = "ê°€êµ¬15";
        document.getElementById("ê°€êµ¬14").style.cssText = `
        position: absolute;
        width: ${ê°€êµ¬1Data["ê°€êµ¬15"][0]};
        height: ${ê°€êµ¬1Data["ê°€êµ¬15"][1]};
        left: ${ê°€êµ¬1Data["ê°€êµ¬15"][2]};
        top: ${ê°€êµ¬1Data["ê°€êµ¬15"][3]};
        z-index:100;
        `;};
        if(data.user.foxhomeData["ê°€êµ¬2"].split(",")[0] !== 'undefined'){
        document.getElementById("ê°€êµ¬21").src = `./${data.user.foxhomeData["ê°€êµ¬2"].split(",")[0]}T.svg`;
        document.getElementById("ê°€êµ¬21").dataset.itemName = data.user.foxhomeData["ê°€êµ¬2"].split(",")[0];
        document.getElementById("ê°€êµ¬21").style.cssText = `
        position: absolute;
        width: ${ê°€êµ¬2Data[data.user.foxhomeData["ê°€êµ¬2"].split(",")[0]][0]};
        height: ${ê°€êµ¬2Data[data.user.foxhomeData["ê°€êµ¬2"].split(",")[0]][1]};
        left: ${ê°€êµ¬2Data[data.user.foxhomeData["ê°€êµ¬2"].split(",")[0]][2]};
        top: ${ê°€êµ¬2Data[data.user.foxhomeData["ê°€êµ¬2"].split(",")[0]][3]};
        z-index:100;
        `;};
        if (data.user.foxhomeData["ê°€êµ¬2"].split(",")[1] !== 'undefined'){
        document.getElementById("ê°€êµ¬23").src = `./${data.user.foxhomeData["ê°€êµ¬2"].split(",")[1]}T.svg`;
        document.getElementById("ê°€êµ¬23").dataset.itemName = data.user.foxhomeData["ê°€êµ¬2"].split(",")[1];
        document.getElementById("ê°€êµ¬23").style.cssText = `
        position: absolute;
        width: ${ê°€êµ¬2Data[data.user.foxhomeData["ê°€êµ¬2"].split(",")[1]][0]};
        height: ${ê°€êµ¬2Data[data.user.foxhomeData["ê°€êµ¬2"].split(",")[1]][1]};
        left: ${ê°€êµ¬2Data[data.user.foxhomeData["ê°€êµ¬2"].split(",")[1]][2]};
        top: ${ê°€êµ¬2Data[data.user.foxhomeData["ê°€êµ¬2"].split(",")[1]][3]};
        z-index:100;
        `;};
        if (data.user.foxhomeData["ê°€êµ¬2"].split(",")[2] !== 'undefined'){
        document.getElementById("ê°€êµ¬24").src = `./${data.user.foxhomeData["ê°€êµ¬2"].split(",")[2]}T.svg`;
        document.getElementById("ê°€êµ¬24").dataset.itemName = data.user.foxhomeData["ê°€êµ¬2"].split(",")[2];
        document.getElementById("ê°€êµ¬24").style.cssText = `
        position: absolute;
        width: ${ê°€êµ¬2Data[data.user.foxhomeData["ê°€êµ¬2"].split(",")[2]][0]};
        height: ${ê°€êµ¬2Data[data.user.foxhomeData["ê°€êµ¬2"].split(",")[2]][1]};
        left: ${ê°€êµ¬2Data[data.user.foxhomeData["ê°€êµ¬2"].split(",")[2]][2]};
        top: ${ê°€êµ¬2Data[data.user.foxhomeData["ê°€êµ¬2"].split(",")[2]][3]};
        z-index:100;
        `;};
        if(data.user.foxhomeData["ì•…ì„¸ì‚¬ë¦¬"].split(",")[0] !== 'undefined'){
        document.getElementById("ì•…ì„¸ì‚¬ë¦¬1").src = `./${data.user.foxhomeData["ì•…ì„¸ì‚¬ë¦¬"].split(",")[0]}T.svg`;
        document.getElementById("ì•…ì„¸ì‚¬ë¦¬1").dataset.itemName = data.user.foxhomeData["ì•…ì„¸ì‚¬ë¦¬"].split(",")[0];
        document.getElementById("ì•…ì„¸ì‚¬ë¦¬1").style.cssText = `
        position: absolute;
        width: ${ì•…ì„¸ì‚¬ë¦¬Data[data.user.foxhomeData["ì•…ì„¸ì‚¬ë¦¬"].split(",")[0]][0]};
        height: ${ì•…ì„¸ì‚¬ë¦¬Data[data.user.foxhomeData["ì•…ì„¸ì‚¬ë¦¬"].split(",")[0]][1]};
        left: ${ì•…ì„¸ì‚¬ë¦¬Data[data.user.foxhomeData["ì•…ì„¸ì‚¬ë¦¬"].split(",")[0]][2]};
        top: ${ì•…ì„¸ì‚¬ë¦¬Data[data.user.foxhomeData["ì•…ì„¸ì‚¬ë¦¬"].split(",")[0]][3]};
        transform:rotate(${ì•…ì„¸ì‚¬ë¦¬Data[data.user.foxhomeData["ì•…ì„¸ì‚¬ë¦¬"].split(",")[0]][4]});
        z-index:102;
        `;};
        if (data.user.foxhomeData["ì•…ì„¸ì‚¬ë¦¬"].split(",")[1] !== 'undefined'){
        document.getElementById("ì•…ì„¸ì‚¬ë¦¬2").src = `./${data.user.foxhomeData["ì•…ì„¸ì‚¬ë¦¬"].split(",")[1]}T.svg`;
        document.getElementById("ì•…ì„¸ì‚¬ë¦¬2").dataset.itemName = data.user.foxhomeData["ì•…ì„¸ì‚¬ë¦¬"].split(",")[1];
        document.getElementById("ì•…ì„¸ì‚¬ë¦¬2").style.cssText = `
        position: absolute;
        width: ${ì•…ì„¸ì‚¬ë¦¬Data[data.user.foxhomeData["ì•…ì„¸ì‚¬ë¦¬"].split(",")[1]][0]};
        height: ${ì•…ì„¸ì‚¬ë¦¬Data[data.user.foxhomeData["ì•…ì„¸ì‚¬ë¦¬"].split(",")[1]][1]};
        left: ${ì•…ì„¸ì‚¬ë¦¬Data[data.user.foxhomeData["ì•…ì„¸ì‚¬ë¦¬"].split(",")[1]][2]};
        top: ${ì•…ì„¸ì‚¬ë¦¬Data[data.user.foxhomeData["ì•…ì„¸ì‚¬ë¦¬"].split(",")[1]][3]};
        z-index:102;
        `;};
        if (data.user.foxhomeData["ì•…ì„¸ì‚¬ë¦¬"].split(",")[2] !== 'undefined'){
        document.getElementById("ì•…ì„¸ì‚¬ë¦¬4").src = `./${data.user.foxhomeData["ì•…ì„¸ì‚¬ë¦¬"].split(",")[2]}T.svg`;
        document.getElementById("ì•…ì„¸ì‚¬ë¦¬4").dataset.itemName = data.user.foxhomeData["ì•…ì„¸ì‚¬ë¦¬"].split(",")[2];
        document.getElementById("ì•…ì„¸ì‚¬ë¦¬4").style.cssText = `
        position: absolute;
        width: ${ì•…ì„¸ì‚¬ë¦¬Data[data.user.foxhomeData["ì•…ì„¸ì‚¬ë¦¬"].split(",")[2]][0]};
        height: ${ì•…ì„¸ì‚¬ë¦¬Data[data.user.foxhomeData["ì•…ì„¸ì‚¬ë¦¬"].split(",")[2]][1]};
        left: ${ì•…ì„¸ì‚¬ë¦¬Data[data.user.foxhomeData["ì•…ì„¸ì‚¬ë¦¬"].split(",")[2]][2]};
        top: ${ì•…ì„¸ì‚¬ë¦¬Data[data.user.foxhomeData["ì•…ì„¸ì‚¬ë¦¬"].split(",")[2]][3]};
        z-index:102;
        `;};
        const ê¾¸ë¯¸ê¸°ì¹´í…Œê³ ë¦¬ì„ íƒ = document.querySelectorAll(".ê¾¸ë¯¸ê¸°ì¹´í…Œê³ ë¦¬ì„ íƒ");
        ê¾¸ë¯¸ê¸°ì¹´í…Œê³ ë¦¬ì„ íƒ.forEach(btn=>{
            btn.style.backgroundColor="#FFFFFF";
            btn.style.color="#D1916C";
        });
        ê¾¸ë¯¸ê¸°ì¹´í…Œê³ ë¦¬ì„ íƒ[0].style.backgroundColor="#D1916C";
        ê¾¸ë¯¸ê¸°ì¹´í…Œê³ ë¦¬ì„ íƒ[0].style.color="#FFFFFF";

        ê¾¸ë¯¸ê¸°ì¹´í…Œê³ ë¦¬ì„ íƒ.forEach(btn =>{
            btn.addEventListener("click",()=>{
                ê¾¸ë¯¸ê¸°ì¹´í…Œê³ ë¦¬ì„ íƒ.forEach(btn=>{
                    btn.style.backgroundColor="#FFFFFF";
                    btn.style.color="#D1916C";
                });
                btn.style.backgroundColor="#D1916C";
                btn.style.color="#FFFFFF";
                itemType='';
                data.userItems.forEach(item => {
                    if(btn.textContent==item.itemType){
                        itemType=item.itemType;
                    }
                });
                const userHave = data.userItems
                    .filter(item => item.itemType === itemType)
                    .map(item => item.itemName + ".svg");
                //console.log(userHave);
                foxHomeItemLoding(userHave);
            });
        });

    } catch(err) {
        console.error(err);
    }
}

// í˜ì´ì§€ ë¡œë”© ì‹œ í˜¸ì¶œ
loadUserData();
</script>

</html>